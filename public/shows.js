const apiKey = "8f15dd610db0f3c8fb64da76c86fd488", url = "https://api.themoviedb.org/3/", imgUrl = "https://image.tmdb.org/t/p/w500", form = document.querySelector("form"), input = document.querySelector("input"), cardContainer = document.querySelector(".card-container"), topRatedContainer = document.querySelector("#top-rated-container"), nowWatchingContainer = document.querySelector("#now-watching-container"); function getResults(e) { let t = `${url}search/tv?api_key=${apiKey}&query=${e}&page=1&include_adult=false&language=en`; console.log(t), fetch(t).then(e => e.json()).then(displayResults).catch(e => { console.log(e) }) } function displayResults(e) { let t = ""; for (let n = 0; n < e.results.length; n++)e.results[n].poster_path && (t += `<a href="/info/tv/${e.results[n].id}">\n        <div class="profile-card-2"><img\n                src="${imgUrl}${e.results[n].poster_path}"\n                class="img img-responsive">\n            <div class="profile-name">${e.results[n].name}</div>\n            <div class="vote">${e.results[n].vote_average}</div>\n            <div class="release-date">${e.results[n].first_air_date}</div>\n        </div>\n    </a>`); cardContainer.innerHTML = t } function topRated() { fetch(`${url}tv/top_rated?api_key=${apiKey}&language=en-US`).then(e => e.json()).then(e => { let t = ""; for (let n = 0; n < e.results.length; n++)e.results[n].poster_path && (t += `<div class="slide"><figure>\n                    <a href="/info/tv/${e.results[n].id}"><img src="${imgUrl}${e.results[n].poster_path}" class="top-rated-card" alt="poster"></a>\n                    <figcaption> ${e.results[n].name} </figcaption>\n                    </figure></div>`); topRatedContainer.innerHTML = t }).catch(e => { console.log(e) }) } function nowPlaying() { fetch(`${url}tv/popular?api_key=${apiKey}&language=en-US&page=1`).then(e => e.json()).then(e => { let t = ""; for (let n = 0; n < e.results.length; n++)e.results[n].poster_path && (t += `<div class="slide"><figure>\n                    <a href="/info/tv/${e.results[n].id}"><img src="${imgUrl}${e.results[n].poster_path}" class="top-rated-card" alt="poster"></a>\n                    <figcaption> ${e.results[n].name} </figcaption>\n                    </figure></div>`); nowWatchingContainer.innerHTML = t }).catch(e => { console.log(e) }) } form.addEventListener("submit", e => { e.preventDefault(), getResults(input.value) }), topRated(), nowPlaying();